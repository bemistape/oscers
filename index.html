<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Oscer.com - Bingo, Runtime Challenge, and more</title>
  <link rel="stylesheet" href="site.css" />
</head>
<body class="landing">
  <nav class="site-nav" aria-label="Primary">
    <a href="index.html">Home</a>
    <a href="bingo.html">Oscer Bingo</a>
    <a href="runtimes.html">Runtime Challenge</a>
    <a href="runtime_dream.html">Runtime Dream</a>
    <a class="nav-cta" href="Oscer_Bingo_Oscar_2025.pdf">Download Cards</a>
  </nav>

  <main>
    <section class="hero-countdown" data-countdown-section>
      <div class="page">
        <div class="countdown-card countdown-hero" data-countdown-card>
          <span class="countdown-time" data-countdown aria-live="polite" role="timer">
            1 year, 1 month, 8 days, 5 hours, and 7 seconds until Oscer!
          </span>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="page">
        <div class="section-header">
          <h2>Experiences</h2>
          <p>Three main pillars live here now. You can expand this grid later with new formats, playlists, or live events.</p>
        </div>
        <div class="card-grid">
          <article class="card">
            <img src="oscar_bingo.png" alt="Oscer bingo preview" />
            <h3>Oscer Bingo</h3>
            <p>Generate cards, track your squares, and share your best pulls. Replace this sentence with the real pitch.</p>
            <a class="text-link" href="bingo.html">Generate a card</a>
          </article>
          <article class="card">
            <img src="runtime_challenge_hero.png" alt="Runtime Challenge preview" />
            <h3>Runtime Challenge</h3>
            <p>Fast rounds. Five films. One Joker. Build the runtime intuition you never asked for.</p>
            <a class="text-link" href="runtimes.html">Start the challenge</a>
          </article>
          <article class="card">
            <img src="IMG_9311.jpeg" alt="Runtime Dream preview" />
            <h3>Runtime Dream</h3>
            <p>An ambient drift through posters, runtimes, and floating popcorn. A slow-burn intermission.</p>
            <a class="text-link" href="runtime_dream.html">Enter the dream</a>
          </article>
        </div>
      </div>
    </section>


    <section class="section">
      <div class="page">
        <div class="banner">
          <img src="Oscar-Special-12-2025-Promo-website22SQUARE-2048x878.png" alt="Oscar Special promo banner" />
          <div>
            <h3>Oscer Special Night</h3>
            <p>Placeholder copy: highlight the next big broadcast, ticket drop, or community event here.</p>
            <a class="btn btn-primary" href="https://www.heinetwork.tv/tickets/" target="_blank" rel="noopener">Get tickets</a>
          </div>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="page">
        <div class="download-panel">
          <p>Need printable bingo cards for the room?</p>
          <a class="btn btn-secondary" href="Oscer_Bingo_Oscar_2025.pdf">Download the PDF</a>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    Not affiliated with HEI Network or Oscer. Site by @johnwsmith with robot help.
  </footer>

  <script>
    (function () {
      const section = document.querySelector("[data-countdown-section]");
      const display = document.querySelector("[data-countdown]");
      const card = document.querySelector("[data-countdown-card]");

      if (!section || !display || !card) {
        return;
      }

      const TARGET_UTC_MS = Date.UTC(2026, 2, 15, 23, 0, 0);
      const POST_WINDOW_MS = 15 * 60 * 1000;
      const STORAGE_KEY = "oscerCountdownHidden";

      const safeStorage = {
        get() {
          try {
            return localStorage.getItem(STORAGE_KEY);
          } catch (error) {
            return null;
          }
        },
        set() {
          try {
            localStorage.setItem(STORAGE_KEY, "1");
          } catch (error) {
            // No-op when storage is unavailable.
          }
        }
      };

      function getCountdownParts(nowMs) {
        if (nowMs >= TARGET_UTC_MS) {
          return { years: 0, months: 0, days: 0, hours: 0, minutes: 0, seconds: 0 };
        }

        const now = new Date(nowMs);
        const target = new Date(TARGET_UTC_MS);

        let years = target.getUTCFullYear() - now.getUTCFullYear();
        let months = target.getUTCMonth() - now.getUTCMonth();
        let days = target.getUTCDate() - now.getUTCDate();
        let hours = target.getUTCHours() - now.getUTCHours();
        let minutes = target.getUTCMinutes() - now.getUTCMinutes();
        let seconds = target.getUTCSeconds() - now.getUTCSeconds();

        if (seconds < 0) {
          seconds += 60;
          minutes -= 1;
        }
        if (minutes < 0) {
          minutes += 60;
          hours -= 1;
        }
        if (hours < 0) {
          hours += 24;
          days -= 1;
        }
        if (days < 0) {
          const prevMonth = new Date(Date.UTC(target.getUTCFullYear(), target.getUTCMonth(), 0));
          days += prevMonth.getUTCDate();
          months -= 1;
        }
        if (months < 0) {
          months += 12;
          years -= 1;
        }

        if (years < 0) {
          return { years: 0, months: 0, days: 0, hours: 0, minutes: 0, seconds: 0 };
        }

        return { years, months, days, hours, minutes, seconds };
      }

      function formatUnit(value, label) {
        return `${value} ${label}${value === 1 ? "" : "s"}`;
      }

      function formatCountdown(parts) {
        const units = [
          { key: "years", label: "year" },
          { key: "months", label: "month" },
          { key: "days", label: "day" },
          { key: "hours", label: "hour" },
          { key: "seconds", label: "second" }
        ];

        const segments = units
          .map((unit) => {
            const value = parts[unit.key];
            if (value < 1) {
              return null;
            }
            return formatUnit(value, unit.label);
          })
          .filter(Boolean);

        if (!segments.length) {
          return "Oscer!";
        }
        if (segments.length === 1) {
          return `${segments[0]} until Oscer!`;
        }
        if (segments.length === 2) {
          return `${segments[0]} and ${segments[1]} until Oscer!`;
        }

        const last = segments.pop();
        return `${segments.join(", ")}, and ${last} until Oscer!`;
      }

      function hideCountdown() {
        section.setAttribute("hidden", "");
      }

      function updateCountdown() {
        const now = Date.now();
        if (safeStorage.get() === "1" || now >= TARGET_UTC_MS + POST_WINDOW_MS) {
          safeStorage.set();
          hideCountdown();
          return false;
        }

        if (now >= TARGET_UTC_MS) {
          card.classList.add("is-complete");
          display.textContent = "Oscer!";
          return true;
        }

        card.classList.remove("is-complete");
        const parts = getCountdownParts(now);
        display.textContent = formatCountdown(parts);
        return true;
      }

      updateCountdown();
      const timer = setInterval(() => {
        const keepRunning = updateCountdown();
        if (!keepRunning || section.hasAttribute("hidden")) {
          clearInterval(timer);
        }
      }, 1000);
    })();
  </script>
</body>
</html>
